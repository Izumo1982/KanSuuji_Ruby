def kan_num_conversion(str)
  kans = {"一" => 1, "二" => 2, "三" => 3, "四" => 4, "五" => 5,
  "六" => 6, "七" => 7, "八" => 8, "九" => 9, "十" => 10,
  "壱" => 1, "弐" => 2, "参" => 3, "伍" => 5, "拾" => 10,
  }

  return kans[str] if str.size == 1

  if str =~/([^十拾]?)([十拾]*)(.?)/
    kans.fetch($1, 1) * kans.fetch($2, 0) + kans.fetch($3, 0)
  end
end

 
require 'minitest/autorun'

class SampleTest < Minitest::Test
  def test_sample
    assert_equal 1, kan_num_conversion('一')
    assert_equal 2, kan_num_conversion('二')
    assert_equal 3, kan_num_conversion('三')
    assert_equal 4, kan_num_conversion('四')
    assert_equal 5, kan_num_conversion('五')
    assert_equal 6, kan_num_conversion('六')
    assert_equal 7, kan_num_conversion('七')
    assert_equal 8, kan_num_conversion('八')
    assert_equal 9, kan_num_conversion('九')
    assert_equal 10, kan_num_conversion('十')
    assert_equal 11, kan_num_conversion('十一')
    assert_equal 12, kan_num_conversion('十二')
    assert_equal 13, kan_num_conversion('十三')
    assert_equal 14, kan_num_conversion('十四')
    assert_equal 15, kan_num_conversion('十五')
    assert_equal 16, kan_num_conversion('十六')
    assert_equal 17, kan_num_conversion('十七')
    assert_equal 18, kan_num_conversion('十八')
    assert_equal 19, kan_num_conversion('十九')
    assert_equal 20, kan_num_conversion('二十')
    assert_equal 21, kan_num_conversion('二十一')
    assert_equal 22, kan_num_conversion('二十二')
    assert_equal 23, kan_num_conversion('二十三')
    assert_equal 24, kan_num_conversion('二十四')
    assert_equal 25, kan_num_conversion('二十五')
    assert_equal 26, kan_num_conversion('二十六')
    assert_equal 27, kan_num_conversion('二十七')
    assert_equal 28, kan_num_conversion('二十八')
    assert_equal 29, kan_num_conversion('二十九')
    assert_equal 30, kan_num_conversion('三十')
    assert_equal 31, kan_num_conversion('三十一')
    assert_equal 32, kan_num_conversion('三十二')
    assert_equal 33, kan_num_conversion('三十三')
    assert_equal 34, kan_num_conversion('三十四')
    assert_equal 35, kan_num_conversion('三十五')
    assert_equal 36, kan_num_conversion('三十六')
    assert_equal 37, kan_num_conversion('三十七')
    assert_equal 38, kan_num_conversion('三十八')
    assert_equal 39, kan_num_conversion('三十九')
    assert_equal 40, kan_num_conversion('四十')
    assert_equal 41, kan_num_conversion('四十一')
    assert_equal 42, kan_num_conversion('四十二')
    assert_equal 43, kan_num_conversion('四十三')
    assert_equal 44, kan_num_conversion('四十四')
    assert_equal 45, kan_num_conversion('四十五')
    assert_equal 46, kan_num_conversion('四十六')
    assert_equal 47, kan_num_conversion('四十七')
    assert_equal 48, kan_num_conversion('四十八')
    assert_equal 49, kan_num_conversion('四十九')
    assert_equal 50, kan_num_conversion('五十')
    assert_equal 51, kan_num_conversion('五十一')
    assert_equal 52, kan_num_conversion('五十二')
    assert_equal 53, kan_num_conversion('五十三')
    assert_equal 54, kan_num_conversion('五十四')
    assert_equal 55, kan_num_conversion('五十五')
    assert_equal 56, kan_num_conversion('五十六')
    assert_equal 57, kan_num_conversion('五十七')
    assert_equal 58, kan_num_conversion('五十八')
    assert_equal 59, kan_num_conversion('五十九')
    assert_equal 60, kan_num_conversion('六十')
    assert_equal 61, kan_num_conversion('六十一')
    assert_equal 62, kan_num_conversion('六十二')
    assert_equal 63, kan_num_conversion('六十三')
    assert_equal 64, kan_num_conversion('六十四')
    assert_equal 65, kan_num_conversion('六十五')
    assert_equal 66, kan_num_conversion('六十六')
    assert_equal 67, kan_num_conversion('六十七')
    assert_equal 68, kan_num_conversion('六十八')
    assert_equal 69, kan_num_conversion('六十九')
    assert_equal 70, kan_num_conversion('七十')
    assert_equal 71, kan_num_conversion('七十一')
    assert_equal 72, kan_num_conversion('七十二')
    assert_equal 73, kan_num_conversion('七十三')
    assert_equal 74, kan_num_conversion('七十四')
    assert_equal 75, kan_num_conversion('七十五')
    assert_equal 76, kan_num_conversion('七十六')
    assert_equal 77, kan_num_conversion('七十七')
    assert_equal 78, kan_num_conversion('七十八')
    assert_equal 79, kan_num_conversion('七十九')
    assert_equal 80, kan_num_conversion('八十')
    assert_equal 81, kan_num_conversion('八十一')
    assert_equal 82, kan_num_conversion('八十二')
    assert_equal 83, kan_num_conversion('八十三')
    assert_equal 84, kan_num_conversion('八十四')
    assert_equal 85, kan_num_conversion('八十五')
    assert_equal 86, kan_num_conversion('八十六')
    assert_equal 87, kan_num_conversion('八十七')
    assert_equal 88, kan_num_conversion('八十八')
    assert_equal 89, kan_num_conversion('八十九')
    assert_equal 90, kan_num_conversion('九十')
    assert_equal 91, kan_num_conversion('九十一')
    assert_equal 92, kan_num_conversion('九十二')
    assert_equal 93, kan_num_conversion('九十三')
    assert_equal 94, kan_num_conversion('九十四')
    assert_equal 95, kan_num_conversion('九十五')
    assert_equal 96, kan_num_conversion('九十六')
    assert_equal 97, kan_num_conversion('九十七')
    assert_equal 98, kan_num_conversion('九十八')
    assert_equal 99, kan_num_conversion('九十九')
    assert_equal 1, kan_num_conversion('壱')
    assert_equal 2, kan_num_conversion('弐')
    assert_equal 3, kan_num_conversion('参')
    assert_equal 4, kan_num_conversion('四')
    assert_equal 5, kan_num_conversion('伍')
    assert_equal 6, kan_num_conversion('六')
    assert_equal 7, kan_num_conversion('七')
    assert_equal 8, kan_num_conversion('八')
    assert_equal 9, kan_num_conversion('九')
    assert_equal 10, kan_num_conversion('壱拾')
    assert_equal 11, kan_num_conversion('壱拾壱')
    assert_equal 12, kan_num_conversion('壱拾弐')
    assert_equal 13, kan_num_conversion('壱拾参')
    assert_equal 14, kan_num_conversion('壱拾四')
    assert_equal 15, kan_num_conversion('壱拾伍')
    assert_equal 16, kan_num_conversion('壱拾六')
    assert_equal 17, kan_num_conversion('壱拾七')
    assert_equal 18, kan_num_conversion('壱拾八')
    assert_equal 19, kan_num_conversion('壱拾九')
    assert_equal 20, kan_num_conversion('弐拾')
    assert_equal 21, kan_num_conversion('弐拾壱')
    assert_equal 22, kan_num_conversion('弐拾弐')
    assert_equal 23, kan_num_conversion('弐拾参')
    assert_equal 24, kan_num_conversion('弐拾四')
    assert_equal 25, kan_num_conversion('弐拾伍')
    assert_equal 26, kan_num_conversion('弐拾六')
    assert_equal 27, kan_num_conversion('弐拾七')
    assert_equal 28, kan_num_conversion('弐拾八')
    assert_equal 29, kan_num_conversion('弐拾九')
    assert_equal 30, kan_num_conversion('参拾')
    assert_equal 31, kan_num_conversion('参拾壱')
    assert_equal 32, kan_num_conversion('参拾弐')
    assert_equal 33, kan_num_conversion('参拾参')
    assert_equal 34, kan_num_conversion('参拾四')
    assert_equal 35, kan_num_conversion('参拾伍')
    assert_equal 36, kan_num_conversion('参拾六')
    assert_equal 37, kan_num_conversion('参拾七')
    assert_equal 38, kan_num_conversion('参拾八')
    assert_equal 39, kan_num_conversion('参拾九')
    assert_equal 40, kan_num_conversion('四拾')
    assert_equal 41, kan_num_conversion('四拾壱')
    assert_equal 42, kan_num_conversion('四拾弐')
    assert_equal 43, kan_num_conversion('四拾参')
    assert_equal 44, kan_num_conversion('四拾四')
    assert_equal 45, kan_num_conversion('四拾伍')
    assert_equal 46, kan_num_conversion('四拾六')
    assert_equal 47, kan_num_conversion('四拾七')
    assert_equal 48, kan_num_conversion('四拾八')
    assert_equal 49, kan_num_conversion('四拾九')
    assert_equal 50, kan_num_conversion('伍拾')
    assert_equal 51, kan_num_conversion('伍拾壱')
    assert_equal 52, kan_num_conversion('伍拾弐')
    assert_equal 53, kan_num_conversion('伍拾参')
    assert_equal 54, kan_num_conversion('伍拾四')
    assert_equal 55, kan_num_conversion('伍拾伍')
    assert_equal 56, kan_num_conversion('伍拾六')
    assert_equal 57, kan_num_conversion('伍拾七')
    assert_equal 58, kan_num_conversion('伍拾八')
    assert_equal 59, kan_num_conversion('伍拾九')
    assert_equal 60, kan_num_conversion('六拾')
    assert_equal 61, kan_num_conversion('六拾壱')
    assert_equal 62, kan_num_conversion('六拾弐')
    assert_equal 63, kan_num_conversion('六拾参')
    assert_equal 64, kan_num_conversion('六拾四')
    assert_equal 65, kan_num_conversion('六拾伍')
    assert_equal 66, kan_num_conversion('六拾六')
    assert_equal 67, kan_num_conversion('六拾七')
    assert_equal 68, kan_num_conversion('六拾八')
    assert_equal 69, kan_num_conversion('六拾九')
    assert_equal 70, kan_num_conversion('七拾')
    assert_equal 71, kan_num_conversion('七拾壱')
    assert_equal 72, kan_num_conversion('七拾弐')
    assert_equal 73, kan_num_conversion('七拾参')
    assert_equal 74, kan_num_conversion('七拾四')
    assert_equal 75, kan_num_conversion('七拾伍')
    assert_equal 76, kan_num_conversion('七拾六')
    assert_equal 77, kan_num_conversion('七拾七')
    assert_equal 78, kan_num_conversion('七拾八')
    assert_equal 79, kan_num_conversion('七拾九')
    assert_equal 80, kan_num_conversion('八拾')
    assert_equal 81, kan_num_conversion('八拾壱')
    assert_equal 82, kan_num_conversion('八拾弐')
    assert_equal 83, kan_num_conversion('八拾参')
    assert_equal 84, kan_num_conversion('八拾四')
    assert_equal 85, kan_num_conversion('八拾伍')
    assert_equal 86, kan_num_conversion('八拾六')
    assert_equal 87, kan_num_conversion('八拾七')
    assert_equal 88, kan_num_conversion('八拾八')
    assert_equal 89, kan_num_conversion('八拾九')
    assert_equal 90, kan_num_conversion('九拾')
    assert_equal 91, kan_num_conversion('九拾壱')
    assert_equal 92, kan_num_conversion('九拾弐')
    assert_equal 93, kan_num_conversion('九拾参')
    assert_equal 94, kan_num_conversion('九拾四')
    assert_equal 95, kan_num_conversion('九拾伍')
    assert_equal 96, kan_num_conversion('九拾六')
    assert_equal 97, kan_num_conversion('九拾七')
    assert_equal 98, kan_num_conversion('九拾八')
    assert_equal 99, kan_num_conversion('九拾九')
  end  
end